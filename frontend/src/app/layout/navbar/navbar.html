<nav class="navbar-container">
  <div class="navbar-content">
    <div class="brand" routerLink="/home">
      <img src="images/logo.png" alt="Logo" class="brand-logo" />
      <span class="brand-text">Planta La Esperanza</span>
    </div>

    <button class="mobile-toggle" (click)="toggleMobile()">
      <i class="pi pi-bars"></i>
    </button>

    <div class="navbar-menu" [class.active]="mobileMenuOpen">
      <a class="nav-item" routerLink="/home" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
        <i class="pi pi-home"></i>
        <span>Inicio</span>
      </a>

      <a *ngIf="currentUser?.rol === 'ADMINISTRADOR'" class="nav-item" routerLink="/admin" routerLinkActive="active">
        <i class="pi pi-users"></i>
        <span>Gestión de Usuarios</span>
      </a>

      <div *ngIf="currentUser?.rol === 'OPERADOR'" class="nav-dropdown">
        <button class="nav-item dropdown-toggle" (click)="toggleDropdown('matrices')" [class.active]="isDropdownOpen('matrices')">
          <i class="pi pi-table"></i>
          <span>Matrices</span>
          <i class="pi pi-angle-down arrow"></i>
        </button>
        <div class="dropdown-menu" [class.show]="isDropdownOpen('matrices')">
          <a class="dropdown-item" routerLink="/forms/control-operacion" routerLinkActive="active">
            <i class="pi pi-cog"></i>
            <span>Control de Operación</span>
          </a>
          <a class="dropdown-item" routerLink="/forms/control-cloro" routerLinkActive="active">
            <i class="pi pi-circle"></i>
            <span>Registro de Reactivos</span>
          </a>
          <a class="dropdown-item" routerLink="/forms/monitoreo-fisicoquimico" routerLinkActive="active">
            <i class="pi pi-chart-bar"></i>
            <span>Monitoreo Fisicoquímico</span>
          </a>
        </div>
      </div>

      <div *ngIf="currentUser?.rol === 'OPERADOR'" class="nav-dropdown">
        <button class="nav-item dropdown-toggle" (click)="toggleDropdown('produccion')" [class.active]="isDropdownOpen('produccion')">
          <i class="pi pi-chart-line"></i>
          <span>Producción</span>
          <i class="pi pi-angle-down arrow"></i>
        </button>
        <div class="dropdown-menu" [class.show]="isDropdownOpen('produccion')">
          <a class="dropdown-item" routerLink="/forms/produccion-filtros" routerLinkActive="active">
            <i class="pi pi-filter"></i>
            <span>Producción por Filtros</span>
          </a>
          <a class="dropdown-item" routerLink="/forms/consumo-quimicos" routerLinkActive="active">
            <i class="pi pi-shopping-cart"></i>
            <span>Consumo Diario</span>
          </a>
          <a class="dropdown-item" routerLink="/forms/consumo-mensual" routerLinkActive="active">
            <i class="pi pi-calendar"></i>
            <span>Consumo Mensual</span>
          </a>
        </div>
      </div>

      <button class="nav-item logout-btn" (click)="logout()">
        <i class="pi pi-power-off"></i>
        <span>Cerrar Sesión</span>
      </button>
    </div>
  </div>
</nav>
